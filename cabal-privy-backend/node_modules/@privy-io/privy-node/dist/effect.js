"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RunEffectOnce = void 0;
class RunEffectOnce {
    constructor(fn) {
        this.promise = null;
        this.fn = fn;
    }
    execute() {
        if (this.promise === null) {
            this.promise = (async () => {
                try {
                    await this.fn();
                }
                finally {
                    this.promise = null;
                }
            })();
        }
        return this.promise;
    }
}
exports.RunEffectOnce = RunEffectOnce;
//# sourceMappingURL=effect.js.map