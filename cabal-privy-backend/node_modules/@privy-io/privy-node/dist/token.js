"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Token = void 0;
const jwt_decode_1 = __importDefault(require("jwt-decode"));
class Token {
    constructor(value) {
        this.value = value;
        this._decoded = (0, jwt_decode_1.default)(value);
    }
    /**
     * The subject is the user id to which this token is assigned.
     */
    get subject() {
        return this._decoded.sub;
    }
    /**
     * The date in seconds since Epoch that this token expires.
     */
    get expiration() {
        return this._decoded.exp;
    }
    /**
     * Whether or not the token is to be considered expired.
     *
     * @param {number} seconds A number in seconds to reduce the expiration time by. Defaults to 0
     */
    isExpired(seconds = 0) {
        const now = Date.now();
        const expiration = (this.expiration - seconds) * 1000;
        return now >= expiration;
    }
}
exports.Token = Token;
//# sourceMappingURL=token.js.map